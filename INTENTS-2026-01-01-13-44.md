# Remove old opnsense-ids and rename opnsense-ids2 to opnsense-ids

## Prompt
Remove the old opnsense-ids dashboard and rename the new one, opnsense-ids2 to opnsense-ids

## Changes Made

### Nix Configuration Updates
**File:** `hosts/modules/linux/shared/grafana/default.nix`

1. **Replaced old opnsense-ids config** (lines 27-41)
   - Removed: grafana.com dashboard fetch (ID: 17547, version: 4)
   - Added: local file reference with enhanced transforms
   ```nix
   opnsense-ids = {
     path = ./dashboards/opnsense-ids.json;
     transform = dashboard:
       lib.pipe dashboard [
         (dashLib.setUid "opnsense-ids")
         (dashLib.replaceDatasources [
           {
             key = "VictoriaLogs";
             value = "VictoriaLogs";
           }
           {
             key = "PD775F2863313E6C7";
             value = "VictoriaLogs";
           }
         ])
       ];
   };
   ```

2. **Removed opnsense-ids2 config** (previously lines 133-150)
   - Deleted duplicate dashboard entry since we're replacing opnsense-ids with the improved version

### Dashboard File Changes
**File:** `hosts/modules/linux/shared/grafana/dashboards/opnsense-ids.json`

1. **Renamed from opnsense-ids2.json** to opnsense-ids.json
2. **Updated dashboard UID** in JSON
   - Changed: `"uid": "opnsense-ids2"` → `"uid": "opnsense-ids"`
   - Used `jq` to update: `.uid = "opnsense-ids"`

### Verification
- ✅ Dashboard file exists at correct location: `hosts/modules/linux/shared/grafana/dashboards/opnsense-ids.json`
- ✅ Dashboard UID: `"opnsense-ids"`
- ✅ Dashboard Title: `"OPNsense & IDS/IPS -2"`
- ✅ No references to `opnsense-ids2` remain in Nix config
- ✅ Proper datasource mappings for VictoriaLogs configured

### Benefits
- Single dashboard source (the improved one with all fixes)
- Dashboard now managed as code instead of fetched from grafana.com
- Consistent naming convention (opnsense-ids)
- All panel fixes are persisted in version control
